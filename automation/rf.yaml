
- alias: 'Group office light switches'
  trigger:
    - platform: state
      entity_id: 
        - switch.rfbridge1
        - switch.sonoff_t1
  action:
    - service_template: >
        {% if trigger.to_state.state == "on" %}
        homeassistant.turn_on
        {% elif trigger.to_state.state == "off" %}
        homeassistant.turn_off
        {% endif %}
      entity_id:
        - switch.rfbridge1 
        - switch.sonoff_t1

- alias: 'Group living room lamp switches'
  trigger:
    - platform: state
      entity_id: 
        - switch.rfbridge4
        - switch.sonoff1
  action:
    - service_template: >
        {% if trigger.to_state.state == "on" %}
        homeassistant.turn_on
        {% elif trigger.to_state.state == "off" %}
        homeassistant.turn_off
        {% endif %}
      entity_id:
        - switch.rfbridge4 
        - switch.sonoff1

- alias: 'Group kids room bed light switches'
  trigger:
    - platform: state
      entity_id:
        - switch.rfbridge3
        - light.kidsroom_bedlight
  action:
    - service_template: >
        {% if trigger.to_state.state == "on" %}
        homeassistant.turn_on
        {% elif trigger.to_state.state == "off" %}
        homeassistant.turn_off
        {% endif %}
      entity_id:
        - switch.rfbridge3
        - light.kidsroom_bedlight

- alias: 'Group kids room light switches'
  trigger:
    - platform: state
      entity_id:
        - switch.rfbridge2
        - switch.sonoff_t2
  action:
    - service_template: >
        {% if trigger.to_state.state == "on" %}
        switch.turn_on
        {% elif trigger.to_state.state == "off" %}
        switch.turn_off
        {% endif %}
      entity_id:
        - switch.rfbridge2
        - switch.sonoff_t2

- alias: 'Guest Room Door Opened'
  trigger:
    - platform: state
      entity_id: sensor.rf_code
  action:
    - service_template: >
        {% if trigger.to_state.state[-6:] == "68C4A1" %}
        timer.start
        {% endif %}
      entity_id:
        - timer.door_guestroom_open

